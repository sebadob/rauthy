import{t as D,a as x}from"./DVyqXkF9.js";import{V as p,x as z,l as o,ah as C,a7 as P,j as f,p as S,k as y,a2 as V,a6 as X,ai as Y,s as B,c as _,t as T,a as F,r as j}from"./DXTz3Rbt.js";import{d as G,e as k,s as I}from"./BLUcFBb0.js";import{i as J}from"./Dnzfvyee.js";import{s as K}from"./BPSUy9kl.js";import{s as L,a as N}from"./B28jQOFH.js";import{r as Q,l as R,t as U,f as W}from"./BaLU91-Z.js";import{p as O}from"./D54UoLP7.js";function A(e){return Object.prototype.toString.call(e)==="[object Date]"}function b(e,s,t,i){if(typeof t=="number"||A(t)){const n=i-t,r=(t-s)/(e.dt||1/60),h=e.opts.stiffness*n,l=e.opts.damping*r,c=(h-l)*e.inv_mass,m=(r+c)*e.dt;return Math.abs(m)<e.opts.precision&&Math.abs(n)<e.opts.precision?i:(e.settled=!1,A(t)?new Date(t.getTime()+m):t+m)}else{if(Array.isArray(t))return t.map((n,r)=>b(e,s[r],t[r],i[r]));if(typeof t=="object"){const n={};for(const r in t)n[r]=b(e,s[r],t[r],i[r]);return n}else throw new Error(`Cannot spring ${typeof t} values`)}}class v{#i=p(.15);#r=p(.8);#n=p(.01);#t=p(void 0);#e=p(void 0);#o=void 0;#f=0;#a=1;#m=0;#s=null;#h=null;constructor(s,t={}){this.#t.v=this.#e.v=s,typeof t.stiffness=="number"&&(this.#i.v=u(t.stiffness,0,1)),typeof t.damping=="number"&&(this.#r.v=u(t.damping,0,1)),typeof t.precision=="number"&&(this.#n.v=t.precision)}static of(s,t){const i=new v(s(),t);return z(()=>{i.set(s())}),i}#d(s){if(o(this.#e,s),this.#t.v??=s,this.#o??=this.#t.v,!this.#s){this.#f=Q.now();var t=1e3/(this.#m*60);this.#s??=R(i=>{this.#a=Math.min(this.#a+t,1);const n=Math.min(i-this.#f,1e3/30),r={inv_mass:this.#a,opts:{stiffness:this.#i.v,damping:this.#r.v,precision:this.#n.v},settled:!0,dt:n*60/1e3};var h=b(r,this.#o,this.#t.v,this.#e.v);return this.#o=this.#t.v,this.#f=i,o(this.#t,h),r.settled&&(this.#s=null),!r.settled})}return this.#s.promise}set(s,t){if(this.#h?.reject(new Error("Aborted")),t?.instant||this.#t.v===void 0)return this.#s?.abort(),this.#s=null,o(this.#t,o(this.#e,s)),this.#o=s,Promise.resolve();t?.preserveMomentum&&(this.#a=0,this.#m=t.preserveMomentum);var i=this.#h=C();return i.promise.catch(P),this.#d(s).then(()=>{i===this.#h&&i.resolve(void 0)}),i.promise}get current(){return f(this.#t)}get damping(){return f(this.#r)}set damping(s){o(this.#r,u(s,0,1))}get precision(){return f(this.#n)}set precision(s){o(this.#n,s)}get stiffness(){return f(this.#i)}set stiffness(s){o(this.#i,u(s,0,1))}get target(){return f(this.#e)}set target(s){this.set(s)}}function u(e,s,t){return Math.max(s,Math.min(t,e))}function Z(e,s,t,i,n){s.set(e.clientY+t()),i.set(e.clientX+n())}var $=D('<div class="tooltip svelte-exzuuq"> </div>'),tt=D('<div role="tooltip"><!> <!></div>');function ht(e,s){S(s,!0);let t=O(s,"xOffset",3,10),i=O(s,"yOffset",3,10),n=y(V(s.text)),r=y(!1),h=y(void 0);const l=new v(0,{stiffness:.1,damping:.6}),c=new v(0,{stiffness:.1,damping:.6});X(()=>{o(n,"")}),Y(()=>{clearTimeout(f(h))});function m(){clearTimeout(f(h)),o(r,!0)}function M(){o(h,setTimeout(()=>{o(r,!1)},100),!0)}var a=tt();a.__mouseover=m,a.__mouseout=M,a.__mousemove=[Z,l,i,c,t];var w=_(a);K(w,()=>s.children);var E=B(w,2);{var H=g=>{var d=$(),q=_(d,!0);j(d),T(()=>{N(d,`top: ${`${l.current}px`}; left: ${`${c.current}px`}`),I(q,s.text)}),U(3,d,()=>W,()=>({delay:400,duration:200})),x(g,d)};J(E,g=>{f(r)&&g(H)})}j(a),T(()=>L(a,"title",f(n))),k("focus",a,m),k("blur",a,M),x(e,a),F()}G(["mouseover","mouseout","mousemove"]);export{ht as T};
