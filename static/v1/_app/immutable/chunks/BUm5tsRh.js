import{t as I,a as x}from"./DVyqXkF9.js";import{p as J,a6 as M,j as i,k as h,l as r,c as d,r as f,t as y,a as Q,s as _,f as R}from"./DXTz3Rbt.js";import{e as V,s as w}from"./BLUcFBb0.js";import{i as W}from"./Dnzfvyee.js";import{s as m,a as X}from"./B28jQOFH.js";import{b as Y}from"./B3Y-rhQz.js";import{p}from"./D54UoLP7.js";import{g as Z}from"./Cx6cA6Ki.js";import{L as $}from"./BaLU91-Z.js";import{I as ee}from"./IOUkvBPb.js";import{u as ae}from"./T3uKKWzz.js";import{u as te}from"./DMieIo7a.js";var se=I('<div class="flex space-between loading svelte-1210bad"><span class="flex gap-05"><span> </span> <span> </span> <span>/</span> <span> </span></span> <!></div>'),ie=I('<label class="svelte-1210bad"><!></label> <input type="file" class="svelte-1210bad">',1),le=I('<form aria-dropeffect="move" aria-label="Upload" class="flex svelte-1210bad"><!></form>');function he(k,e){J(e,!0);let z=p(e,"method",3,"PUT"),b=p(e,"accept",19,()=>[".image/jpg","image/jpeg","image/png","image/svg+xml"]),U=p(e,"buttonOnly",3,!1),L=p(e,"buttonSize",3,"1.5rem"),O=p(e,"multiple",3,!1),A=p(e,"width",3,"17rem"),K=p(e,"height",3,"2.5rem");const j=Z();let N=ae(),g=h(!1),o=h(void 0),F=h(0),u=h(0);M(()=>{!i(g)&&i(o)&&i(o).length>0&&q(i(o))});function P(t){r(o,t.dataTransfer?.files,!0)}async function q(t){r(F,t.length,!0),r(u,0),r(g,!0);for(let s of t){if(b()&&!b().includes(s.type)){r(u,i(u)+1);continue}let a=await te(z(),e.url,s,e.fileName||s.name);a.error?console.error(a.error):e.onSuccess?.(),r(u,i(u)+1)}r(o,void 0),r(g,!1)}var c=le();let S;var B=d(c);{var C=t=>{var s=se(),a=d(s),v=d(a),l=d(v);f(v);var n=_(v,2),E=d(n,!0);f(n);var T=_(n,4),G=d(T,!0);f(T),f(a);var H=_(a,2);$(H,{}),f(s),y(()=>{w(l,`${N.common.loading??""}:`),w(E,i(u)),w(G,i(F))}),x(t,s)},D=t=>{var s=ie(),a=R(s);m(a,"for",j);var v=d(a);ee(v,{get width(){return L()}}),f(a);var l=_(a,2);m(l,"id",j),y(n=>{m(a,"aria-disabled",e.disabled),m(l,"aria-hidden",U()),m(l,"accept",n),m(l,"aria-disabled",e.disabled),l.disabled=e.disabled,l.multiple=O()},[()=>b()&&b().join(", ")]),Y(l,()=>i(o),n=>r(o,n)),x(t,s)};W(B,t=>{i(g)?t(C):t(D,!1)})}f(c),y(()=>{m(c,"data-nopad",U()),S=X(c,"",S,{width:A(),height:K()})}),V("drop",c,P),x(k,c),Q()}export{he as I};
