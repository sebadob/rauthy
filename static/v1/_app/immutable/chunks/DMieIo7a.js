import{b as f}from"./Cx6cA6Ki.js";function l(e,n){let t;return n==="json"?t={"Content-Type":"application/json",Accept:"application/json"}:t={"Content-type":"application/x-www-form-urlencoded",Accept:"application/json"},e!=="GET"&&(t["x-csrf-token"]=f()),t}async function p(e,n="json",t="handle401"){return s("GET",e,n,t)}async function w(e,n,t="json",a="handle401"){return n?i("POST",e,t,a,n):s("POST",e,t,a)}async function y(e,n){return await fetch(e.action,{method:e.method,headers:{"content-type":"application/x-www-form-urlencoded"},body:n})}async function j(e,n,t="json",a="handle401"){return n?i("PUT",e,t,a,n):s("PUT",e,t,a)}async function m(e,n,t="json",a="handle401"){return n?await i("DELETE",e,t,a,n):await s("DELETE",e,t,a)}async function s(e,n,t,a){let o=await fetch(n,{method:e,headers:l(e,t),redirect:"manual"});return await c(o,a)}async function i(e,n,t,a,o){let r;t==="json"?r=JSON.stringify(o):t==="form"&&(r=d(o));let u=await fetch(n,{method:e,headers:l(e,t),redirect:"manual",body:r});return c(u,a)}function d(e){let n=new URLSearchParams;for(let t of Object.keys(e)){let a=e[t];typeof a<"u"&&(typeof a=="object"?n.append(t,JSON.stringify(a)):n.append(t,a))}return n}async function c(e,n){n==="handle401"&&e.status===401&&window.location.reload();let t={body:void 0,text:void 0,error:void 0,status:e.status,headers:e.headers};return e.ok?e.headers.get("content-type")==="application/json"?t.body=await e.json():t.text=await e.text():e.status!==405&&(t.error=await e.json()),t}async function T(e,n){return await e.json()}async function E(e,n,t,a){const o=new FormData;o.append(a,t);const r=await fetch(n,{method:e,headers:{"x-csrf-token":f()},body:o});return c(r,"handle401")}export{y as a,w as b,d as c,m as d,T as e,p as f,j as g,E as u};
