import{d as y,a as d,t as C}from"./DVyqXkF9.js";import{p as I,G as g,k as S,a2 as A,a6 as v,f as O,a as P,j as t,a5 as n,c as j,l as B,r as G,t as M}from"./DXTz3Rbt.js";import{i as q}from"./Dnzfvyee.js";import{b as z}from"./B28jQOFH.js";import{p as D}from"./D54UoLP7.js";import{u as E}from"./pXVVLMtZ.js";import{l as F}from"./Cx6cA6Ki.js";import{O as H}from"./sqKkxQfp.js";import{b as J}from"./QS8tP13U.js";import{p as K}from"./u2-kmEUB.js";import{u as k}from"./Cvgrh_L4.js";var N=C("<div><!></div>");function oe(_,r){I(r,!0);let l=D(r,"openTop",3,!0);const f=";Path=/;SameSite=Lax;Max-Age=157680000";let m=E(),u=g(()=>m.lang),a=S(A(u)),s=n(()=>K.route.id?.includes("/admin")?k().admin():k().common()),h=n(()=>l()?`-${(t(s)?.length||0)*2+2}rem`:void 0),L=n(()=>l()?".2rem":void 0);v(()=>{let e=F("locale"),o=g(()=>t(a));e&&e!==o&&(document.cookie="locale="+o+f)}),v(()=>{t(a)!==u&&b()});async function b(){if(document.cookie="locale="+t(a).toLowerCase()+f,r.updateBackend){let e=await J("/auth/v1/update_language");if(e.error){console.error(e.error);return}}window.location.reload()}var c=y(),w=O(c);{var x=e=>{var o=N();let p;var T=j(o);H(T,{get ariaLabel(){return m.common.selectI18n},get options(){return t(s)},borderless:!0,get offsetTop(){return t(h)},get offsetLeft(){return t(L)},get value(){return t(a)},set value(i){B(a,i,!0)}}),G(o),M(i=>p=z(o,1,"svelte-10y6iii",null,p,i),[()=>({absolute:r.absolute})]),d(e,o)};q(w,e=>{t(s)&&e(x)})}d(_,c),P()}export{oe as L};
