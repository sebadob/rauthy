import{t as I,a as l,e as S}from"../chunks/DVyqXkF9.js";import{p as H,a2 as J,a6 as j,f as y,a as Q,t as n,l as M,k as q,j as u,s as e,a3 as U,c as m,r as c,a4 as B}from"../chunks/DXTz3Rbt.js";import{h as V,s as d}from"../chunks/BLUcFBb0.js";import{i as W}from"../chunks/Dnzfvyee.js";import{m as X,s as Y,n as Z}from"../chunks/Cx6cA6Ki.js";import{B as D}from"../chunks/BaLU91-Z.js";import{u as tt}from"../chunks/pXVVLMtZ.js";import{M as et}from"../chunks/BdLPQyv5.js";import{C as ot}from"../chunks/DrM_mJzu.js";import{L as at}from"../chunks/C6Vygb4T.js";import{T as rt}from"../chunks/D83BWmtm.js";import{u as _}from"../chunks/B7bmE7Iz.js";import{T as st}from"../chunks/C-Rj8bXN.js";import{b as it}from"../chunks/QS8tP13U.js";import{u as lt}from"../chunks/D06dnomN.js";var nt=I('<div class="container svelte-7qsjv3"><h1> </h1> <p> </p> <div class="btn svelte-7qsjv3"><!> <!></div> <!></div> <!> <!>',1),ut=I("<!> <!>",1);function bt(E,F){H(F,!0);let o=tt(),h=q(!1),r=q(""),$=J({post_logout_redirect_uri:_("post_logout_redirect_uri").get(),id_token_hint:_("id_token_hint").get(),state:_("state").get()});j(()=>{u(r)&&Y(u(r))}),j(()=>{$.id_token_hint&&x()});async function k(){window.location.replace("/auth/v1")}async function x(){M(h,!0);let t="/auth/v1/oidc/logout";lt().get()&&(t="/auth/v1/dev/logout");let L=await it(t,$,"form");Z();let s=L.headers.get("location");s?window.location.replace(s):await k()}var T=ut();V(t=>{n(()=>U.title=o?.logout.logout||"Logout")});var w=y(T);rt(w,{id:X,get value(){return u(r)},set value(t){M(r,t,!0)}});var K=e(w,2);et(K,{children:(t,L)=>{ot(t,{children:(s,mt)=>{var P=nt(),p=y(P),f=m(p),N=m(f,!0);c(f);var v=e(f,2),O=m(v,!0);c(v);var g=e(v,2),b=m(g);D(b,{onclick:x,get isLoading(){return u(h)},children:(i,G)=>{B();var a=S();n(()=>d(a,o.logout.logout)),l(i,a)},$$slots:{default:!0}});var R=e(b,2);D(R,{level:3,onclick:k,children:(i,G)=>{B();var a=S();n(()=>d(a,o.common.cancel)),l(i,a)},$$slots:{default:!0}}),c(g);var z=e(g,2);W(z,i=>{}),c(p);var C=e(p,2);st(C,{absolute:!0});var A=e(C,2);at(A,{absolute:!0}),n(()=>{d(N,o.logout.logout),d(O,o.logout.confirmMsg)}),l(s,P)}})}}),l(E,T),Q()}export{bt as component};
