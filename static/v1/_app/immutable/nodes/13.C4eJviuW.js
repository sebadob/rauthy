import{t as y,a as n,e as f}from"../chunks/DVyqXkF9.js";import{p as ot,k,a2 as lt,a1 as it,s,f as H,t as v,a as nt,c as m,l as d,r as p,j as a,a4 as c}from"../chunks/DXTz3Rbt.js";import{s as o}from"../chunks/BLUcFBb0.js";import{i as h}from"../chunks/Dnzfvyee.js";import{e as vt}from"../chunks/Dus-q-Em.js";import{B as ut}from"../chunks/BaLU91-Z.js";import{f as dt,b as ft}from"../chunks/DMieIo7a.js";import{E as mt}from"../chunks/BhqqWH90.js";import{L as _}from"../chunks/BlWtnSFg.js";import{u as pt}from"../chunks/T3uKKWzz.js";import{I as ct}from"../chunks/COZs6rVX.js";var _t=y('<div class="font-mono"> </div>'),$t=y('<div class="n svelte-8tua2b"> </div>'),xt=y("<!> <!> <!> <!> <!> <!> <!>",1),ht=y('<div class="err"> </div>'),bt=y('<h2>Json Web Keys</h2> <p> </p> <p> </p> <p> </p> <!> <div class="btn flex gap-05 svelte-8tua2b"><!> <!></div> <!>',1);function gt(I,N){ot(N,!0);let $=pt(),A=k(lt([])),K=k(!1),b=k(""),L=k(!1);it(()=>{D()});async function D(){let e=await dt("/auth/v1/oidc/certs");e.body?d(A,e.body.keys,!0):d(b,e.error?.message||"Error",!0)}async function O(){d(b,""),d(K,!0);let e=await ft("/auth/v1/oidc/rotate_jwk");e.error?d(b,e.error.message,!0):(d(L,!0),setTimeout(()=>{d(L,!1)},3e3),await D()),d(K,!1)}var G=bt(),C=s(H(G),2),Q=m(C,!0);p(C);var E=s(C,2),R=m(E,!0);p(E);var B=s(E,2),U=m(B,!0);p(B);var M=s(B,2);vt(M,17,()=>a(A),e=>e.kid,(e,r)=>{mt(e,{summary:W=>{var x=_t(),P=m(x);p(x),v(()=>o(P,`${a(r).alg??""}
                /
                ${a(r).kid??""}`)),n(W,x)},details:W=>{var x=xt(),P=H(x);_(P,{label:"Key ID",mono:!0,children:(t,u)=>{c();var l=f();v(()=>o(l,a(r).kid)),n(t,l)},$$slots:{default:!0}});var T=s(P,2);_(T,{get label(){return $.jwks.type},mono:!0,children:(t,u)=>{c();var l=f();v(()=>o(l,a(r).kty)),n(t,l)},$$slots:{default:!0}});var V=s(T,2);_(V,{get label(){return $.jwks.alg},mono:!0,children:(t,u)=>{c();var l=f();v(()=>o(l,a(r).alg)),n(t,l)},$$slots:{default:!0}});var q=s(V,2);{var j=t=>{_(t,{label:"Curve",mono:!0,children:(u,l)=>{c();var i=f();v(()=>o(i,a(r).crv)),n(u,i)},$$slots:{default:!0}})};h(q,t=>{a(r).crv&&t(j)})}var z=s(q,2);{var tt=t=>{_(t,{label:"n",mono:!0,children:(u,l)=>{var i=$t(),st=m(i,!0);p(i),v(()=>o(st,a(r).n)),n(u,i)},$$slots:{default:!0}})};h(z,t=>{a(r).n&&t(tt)})}var F=s(z,2);{var et=t=>{_(t,{label:"e",mono:!0,children:(u,l)=>{c();var i=f();v(()=>o(i,a(r).e)),n(u,i)},$$slots:{default:!0}})};h(F,t=>{a(r).e&&t(et)})}var rt=s(F,2);{var at=t=>{_(t,{label:"x",mono:!0,children:(u,l)=>{c();var i=f();v(()=>o(i,a(r).x)),n(u,i)},$$slots:{default:!0}})};h(rt,t=>{a(r).x&&t(at)})}n(W,x)},$$slots:{summary:!0,details:!0}})});var J=s(M,2),S=m(J);ut(S,{onclick:O,get isLoading(){return a(K)},children:(e,r)=>{c();var g=f();v(()=>o(g,$.jwks.rotateKeys)),n(e,g)},$$slots:{default:!0}});var X=s(S,2);{var Y=e=>{ct(e,{})};h(X,e=>{a(L)&&e(Y)})}p(J);var Z=s(J,2);{var w=e=>{var r=ht(),g=m(r,!0);p(r),v(()=>o(g,a(b))),n(e,r)};h(Z,e=>{a(b)&&e(w)})}v(()=>{o(Q,$.jwks.p1),o(R,$.jwks.p2),o(U,$.jwks.p3)}),n(I,G),nt()}function Dt(I){gt(I,{})}export{Dt as component};
