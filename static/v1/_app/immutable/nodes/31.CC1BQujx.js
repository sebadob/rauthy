import{t as q,a as n,e as P}from"../chunks/DiP_w2ew.js";import{p as H,a2 as J,a6 as S,f as j,a as Q,t as i,l as y,k as D,j as l,s as t,a3 as U,c as u,r as m,a4 as M}from"../chunks/C0XrmWuC.js";import{h as V,s as c}from"../chunks/D9PF6UkP.js";import{i as W}from"../chunks/656WzJtY.js";import{m as X,s as Y,b as Z,n as tt}from"../chunks/Cx6cA6Ki.js";import{B as O}from"../chunks/Buvqu-RJ.js";import{u as et}from"../chunks/CIAGEtKU.js";import{M as ot}from"../chunks/Bzb8WG3W.js";import{C as at}from"../chunks/oLDHNXXT.js";import{L as rt}from"../chunks/D2xaY19z.js";import{T as st}from"../chunks/D_cKoy8N.js";import{u as _}from"../chunks/wGIx8MYF.js";import{T as nt}from"../chunks/KClC09Nk.js";import{c as it}from"../chunks/DMieIo7a.js";import{u as lt}from"../chunks/tirVbi1L.js";var ut=q('<div class="container svelte-7qsjv3"><h1> </h1> <p> </p> <div class="btn svelte-7qsjv3"><!> <!></div> <!></div> <!> <!>',1),mt=q("<!> <!>",1);function Pt(B,F){H(F,!0);let o=et(),h=D(!1),r=D(""),$=J({post_logout_redirect_uri:_("post_logout_redirect_uri").get(),id_token_hint:_("id_token_hint").get(),state:_("state").get()});S(()=>{l(r)&&Y(l(r))}),S(()=>{$.id_token_hint&&x()});function k(){window.location.replace("/auth/v1")}async function x(){y(h,!0);let e=Z();tt();let d="/auth/v1/oidc/logout";lt().get()&&(d="/auth/v1/dev/logout"),await fetch(d,{method:"POST",headers:{"Content-type":"application/x-www-form-urlencoded","x-csrf-token":e},body:it($)}),k()}var T=mt();V(e=>{i(()=>U.title=o?.logout.logout||"Logout")});var b=j(T);st(b,{id:X,get value(){return l(r)},set value(e){y(r,e,!0)}});var I=t(b,2);ot(I,{children:(e,d)=>{at(e,{children:(E,ct)=>{var C=ut(),f=j(C),p=u(f),K=u(p,!0);m(p);var v=t(p,2),N=u(v,!0);m(v);var g=t(v,2),w=u(g);O(w,{onclick:x,get isLoading(){return l(h)},children:(s,G)=>{M();var a=P();i(()=>c(a,o.logout.logout)),n(s,a)},$$slots:{default:!0}});var R=t(w,2);O(R,{level:3,onclick:k,children:(s,G)=>{M();var a=P();i(()=>c(a,o.common.cancel)),n(s,a)},$$slots:{default:!0}}),m(g);var z=t(g,2);W(z,s=>{}),m(f);var L=t(f,2);nt(L,{absolute:!0});var A=t(L,2);rt(A,{absolute:!0}),i(()=>{c(K,o.logout.logout),c(N,o.logout.confirmMsg)}),n(E,C)}})}}),n(B,T),Q()}export{Pt as component};
