import{t as j,a as c,d as Dr,e as J}from"../chunks/DVyqXkF9.js";import{p as oe,a2 as W,c as o,s as a,k as h,t as D,l,j as t,a as de,r as s,a5 as fe,f as he,a6 as me,a4 as H,a1 as Nr}from"../chunks/DXTz3Rbt.js";import{d as at,e as $e,s as p,r as Or}from"../chunks/BLUcFBb0.js";import{i as Z}from"../chunks/Dnzfvyee.js";import{e as et,i as Qt}from"../chunks/Dus-q-Em.js";import{B as qr}from"../chunks/CVyulMm_.js";import{C as jr}from"../chunks/CL_mTQmm.js";import{N as Fr}from"../chunks/NPevBcaT.js";import{N as zr}from"../chunks/x_khJbtH.js";import{O as Kr}from"../chunks/99krErCG.js";import{b as lt,f as tt,g as it,d as rt}from"../chunks/DMieIo7a.js";import{u as Hr}from"../chunks/21dMcSbF.js";import{h as _e}from"../chunks/CP6_I6cz.js";import{B as se,t as Ie,s as Te}from"../chunks/BaLU91-Z.js";import{I as ve}from"../chunks/DxMCa-Hz.js";import{m as Vr,g as er,a as pe,n as Wr,o as Gr,f as Jr,p as tr}from"../chunks/DzmDou2k.js";import{F as nt}from"../chunks/BkyS6Cp-.js";import{u as Le}from"../chunks/pXVVLMtZ.js";import{u as ke}from"../chunks/T3uKKWzz.js";import{I as ne}from"../chunks/BSsA32Jj.js";import{r as st,a as te,s as G}from"../chunks/B28jQOFH.js";import{c as ot}from"../chunks/B3Y-rhQz.js";import{b as rr}from"../chunks/BAilAnr9.js";import{p as re}from"../chunks/D54UoLP7.js";import{g as ye}from"../chunks/Cx6cA6Ki.js";import{I as Qr}from"../chunks/Dq38G47T.js";import{T as ar}from"../chunks/Uvg4PFWU.js";import{I as dt}from"../chunks/COZs6rVX.js";import{L as Qe}from"../chunks/BlWtnSFg.js";import{S as Xt}from"../chunks/C_k9S1mH.js";import{O as Yt}from"../chunks/sqKkxQfp.js";import{I as lr}from"../chunks/BFELTQEF.js";import{k as Xr}from"../chunks/CR-rXziN.js";import{T as Yr}from"../chunks/C-Rj8bXN.js";import{R as Zr}from"../chunks/B4SKEprN.js";import{I as $r}from"../chunks/BUm5tsRh.js";function ea(O,e,r,i){e(),r.onInput?.(t(i))}function ta(O,e,r){switch(O.code){case"Enter":O.preventDefault(),e(),r.onEnter?.();break}}function ra(O,e){e()?.focus(),e()?.scrollIntoView({behavior:"smooth",block:"center"})}var aa=j('<li class="value svelte-r5y8pk"><div class="label"> </div> <div class="btnClose svelte-r5y8pk"><!></div></li>'),la=j("<option></option>"),ia=j('<datalist class="absolute svelte-r5y8pk"></datalist>'),na=j('<span class="err"> </span>'),sa=j('<div role="none" class="container svelte-r5y8pk"><ul class="svelte-r5y8pk"><!> <li class="svelte-r5y8pk"><input autocomplete="off" class="svelte-r5y8pk"> <!></li></ul> <label class="font-label noselect svelte-r5y8pk"> <!></label></div>');function Ce(O,e){oe(e,!0);let r=re(e,"ref",15),i=re(e,"typ",3,"text"),u=re(e,"id",19,ye),v=re(e,"values",31,()=>W([])),k=re(e,"label",3,""),_=re(e,"placeholder",3,""),x=re(e,"disabled",3,!1),C=re(e,"required",3,!1),y=re(e,"isError",15,!1),b=re(e,"width",3,"inherit"),T=re(e,"maxHeightList",3,"inherit"),N=Le();const S=ye();let E=h(""),F=fe(()=>e.datalist&&e.datalist.length>0?S:void 0);function L(U){v(v().filter(K=>K!==U))}function g(U){M(),e.onBlur?.(),z()}function A(U){U.preventDefault(),y(!0)}function z(){t(E)&&M()&&(v().push(t(E)),l(E,""))}function M(){let U=r()?.validity;return U?(y(!U.valid),U.valid):(y(!1),!0)}var R=sa();R.__click=[ra,r];let d;var f=o(R);let P;var q=o(f);et(q,17,v,Qt,(U,K,Y,$)=>{var B=aa(),ee=o(B),le=o(ee,!0);s(ee);var be=a(ee,2),Pe=o(be);se(Pe,{invisible:!0,onclick:()=>L(t(K)),children:(Me,Ue)=>{Qr(Me,{width:"1.2rem"})},$$slots:{default:!0}}),s(be),s(B),D(()=>p(le,t(K))),c(U,B)});var I=a(q,2),m=o(I);st(m),m.__keydown=[ta,z,e],m.__input=[ea,M,e,E],rr(m,U=>r(U),()=>r());var Q=a(m,2);{var ie=U=>{var K=ia();G(K,"id",S),et(K,21,()=>e.datalist,Qt,(Y,$,B,ee)=>{var le=la(),be={};D(()=>{be!==(be=t($))&&(le.value=(le.__value=t($))??"")}),c(Y,le)}),s(K),c(U,K)};Z(Q,U=>{e.datalist&&e.datalist.length>1&&U(ie)})}s(I),s(f);var ae=a(f,2),ce=o(ae),ue=a(ce);{var X=U=>{var K=Dr(),Y=he(K);{var $=B=>{var ee=na(),le=o(ee,!0);s(ee),D(()=>p(le,e.errMsg||N.common.invalidInput)),c(B,ee)};Z(Y,B=>{y()&&B($)})}c(U,K)};Z(ue,U=>{y()&&U(X)})}s(ae),s(R),D(()=>{d=te(R,"",d,{width:b()}),P=te(f,"",P,{"max-height":T()}),G(m,"type",i()),G(m,"id",u()),G(m,"name",e.name),G(m,"list",t(F)),G(m,"title",e.errMsg),G(m,"aria-label",k()||_()),G(m,"placeholder",_()),G(m,"aria-placeholder",_()),m.disabled=x(),G(m,"aria-disabled",x()),m.required=C()&&v().length<1,G(m,"aria-required",C()&&v().length<1),G(m,"maxlength",e.maxLength||void 0),G(m,"min",e.min||void 0),G(m,"max",e.max||void 0),G(m,"pattern",e.pattern),G(ae,"for",u()),G(ae,"data-required",C()),p(ce,`${k()??""} `)}),$e("invalid",m,A),$e("blur",m,g),ot(m,()=>t(E),U=>l(E,U)),c(O,R),de()}at(["click","keydown","input"]);var oa=j('<div class="err"> </div>'),da=j('<!> <!> <!> <p class="svelte-15tp6i6"><!></p> <!> <!> <!> <!>',1),ca=j('<div class="container svelte-15tp6i6"><!></div>');function ua(O,e){oe(e,!0);let r=Le(),i=ke(),u=h(void 0),v=h(""),k=h(""),_=h(""),x=h(!0),C=h(W([])),y=h(W([]));me(()=>{requestAnimationFrame(()=>{t(u)?.focus()})});async function b(S,E){if(e.clients.find(g=>g.id===t(k))){l(v,i.common.nameExistsAlready,!0);return}l(v,"");let F={id:t(k),name:t(_)||void 0,confidential:t(x),redirect_uris:t(C),post_logout_redirect_uris:t(y).length>0?t(y):void 0},L=await lt(S.action,F);L.body?e.onSave(L.body.id):l(v,L.error?.message||"Error",!0)}var T=ca(),N=o(T);nt(N,{action:"/auth/v1/clients",onSubmit:b,children:(S,E)=>{var F=da(),L=he(F);ve(L,{autocomplete:"off",label:"Client ID",placeholder:"Client ID",required:!0,pattern:Vr,get ref(){return t(u)},set ref(I){l(u,I,!0)},get value(){return t(k)},set value(I){l(k,I,!0)}});var g=a(L,2);ve(g,{autocomplete:"off",get label(){return i.clients.name},get placeholder(){return i.clients.name},pattern:er,get value(){return t(_)},set value(I){l(_,I,!0)}});var A=a(g,2);ne(A,{get ariaLabel(){return i.clients.confidential},get checked(){return t(x)},set checked(I){l(x,I,!0)},children:(I,m)=>{H();var Q=J();D(()=>p(Q,i.clients.confidential)),c(I,Q)},$$slots:{default:!0}});var z=a(A,2),M=o(z);_e(M,()=>i.clients.descUri),s(z);var R=a(z,2);Ce(R,{typ:"url",label:"Redirect URIs",get errMsg(){return i.validation.uri},get values(){return t(C)},set values(I){l(C,I,!0)}});var d=a(R,2);Ce(d,{typ:"url",label:"Post Logout Redirect URIs",get errMsg(){return i.validation.uri},get values(){return t(y)},set values(I){l(y,I,!0)}});var f=a(d,2);se(f,{type:"submit",children:(I,m)=>{H();var Q=J();D(()=>p(Q,r.common.save)),c(I,Q)},$$slots:{default:!0}});var P=a(f,2);{var q=I=>{var m=oa(),Q=o(m,!0);s(m),D(()=>p(Q,t(v))),c(I,m)};Z(P,I=>{t(v)&&I(q)})}c(S,F)},$$slots:{default:!0}}),s(T),c(O,T),de()}const Xe="urn:ietf:params:oauth:grant-type:device_code";var va=j('<div class="err"> </div>'),_a=j('<div><p class="mb-0 svelte-5tvvvt"><!></p> <!></div>'),fa=j('<div><p class="desc svelte-5tvvvt"> </p> <ul><li><!></li> <li><!></li> <li><!></li></ul> <p class="mb-0 svelte-5tvvvt"><!></p> <!> <!> <div></div> <!> <!></div>'),ga=j('<div class="err"> </div>'),ha=j('<h5> </h5> <!> <p class="desc svelte-5tvvvt"> </p> <!> <p class="desc svelte-5tvvvt"> </p> <!> <!> <div></div> <h5> </h5> <!> <!> <!> <p class="mb-0 svelte-5tvvvt"><b>Authentication Flows</b></p> <!> <!> <!> <!> <!> <div></div> <p class="mb-0 svelte-5tvvvt"><b>PKCE</b></p> <p class="desc svelte-5tvvvt"> </p> <p class="desc svelte-5tvvvt"><strong> </strong></p> <!> <!> <!> <div></div> <p class="mb-0 svelte-5tvvvt"><b>Origin</b></p> <p class="desc svelte-5tvvvt"> </p> <!> <p class="desc svelte-5tvvvt"><!></p> <!> <!> <div></div> <p class="mb-0 svelte-5tvvvt"><b>Scopes</b></p> <p class="desc svelte-5tvvvt"><!></p> <!> <!> <div></div> <p class="mb-0 svelte-5tvvvt"><b>Tokens</b></p> <p> </p> <!> <div></div> <p> </p> <p> </p> <!> <!> <div></div> <p> </p> <!> <p class="mb-0 svelte-5tvvvt"><b>Backchannel Logout</b></p> <p class="desc svelte-5tvvvt"><!></p> <!> <p class="mb-0 svelte-5tvvvt"><b>SCIM</b></p> <p class="desc svelte-5tvvvt"><!></p> <!> <!> <div class="flex gap-05"><!> <!></div> <!> <div></div>',1),ma=j('<div class="container svelte-5tvvvt"><!></div>');function ba(O,e){oe(e,!0);let r=Le(),i=ke();const u="min(20rem, calc(100dvw - .5rem))";let v=h(""),k=h(!1),_=h(W(e.client.id)),x=h(W(e.client.name||"")),C=h(W(e.client.enabled)),y=h(W(e.client.confidential)),b=h(W(e.client.client_uri||"")),T=h(W(e.client.contacts?Array.from(e.client.contacts):[])),N=h(W(e.client.allowed_origins?Array.from(e.client.allowed_origins):[])),S=h(W(Array.from(e.client.redirect_uris))),E=h(W(e.client.post_logout_redirect_uris?Array.from(e.client.post_logout_redirect_uris):[])),F=h(W(e.client.backchannel_logout_uri||"")),L=h(e.client.scim!==void 0),g=h(W({base_uri:e.client.scim?.base_uri||"",bearer_token:e.client.scim?.bearer_token||"",sync_groups:e.client.scim?.sync_groups===!0||!0,group_sync_prefix:e.client.scim?.group_sync_prefix||""})),A=W({authorizationCode:e.client.flows_enabled.includes("authorization_code"),clientCredentials:e.client.flows_enabled.includes("client_credentials"),password:e.client.flows_enabled.includes("password"),refreshToken:e.client.flows_enabled.includes("refresh_token"),deviceCode:e.client.flows_enabled.includes(Xe)});const z=["RS256","RS384","RS512","EdDSA"];let M=h(W(e.client.access_token_alg)),R=h(W(e.client.id_token_alg)),d=h(W(e.client.access_token_lifetime.toString())),f=h(W(e.client.auth_code_lifetime.toString())),P=h(W(e.scopesAll.map(X=>({name:X,selected:e.client.scopes.includes(X)||!1})))),q=h(W(e.scopesAll.map(X=>({name:X,selected:e.client.default_scopes.includes(X)||!1})))),I=W({plain:e.client.challenges?.includes("plain")||!1,s256:e.client.challenges?.includes("S256")||!1}),m=h(W(e.client.force_mfa));me(()=>{e.client.id&&(l(_,e.client.id,!0),l(x,e.client.name||"",!0),l(C,e.client.enabled,!0),l(y,e.client.confidential,!0),l(b,e.client.client_uri||"",!0),l(F,e.client.backchannel_logout_uri||"",!0),l(T,e.client.contacts?Array.from(e.client.contacts):[],!0),l(N,e.client.allowed_origins?Array.from(e.client.allowed_origins):[],!0),l(S,Array.from(e.client.redirect_uris),!0),l(E,e.client.post_logout_redirect_uris?Array.from(e.client.post_logout_redirect_uris):[],!0),A.authorizationCode=e.client.flows_enabled.includes("authorization_code"),A.clientCredentials=e.client.flows_enabled.includes("client_credentials"),A.password=e.client.flows_enabled.includes("password"),A.refreshToken=e.client.flows_enabled.includes("refresh_token"),A.deviceCode=e.client.flows_enabled.includes(Xe),l(M,e.client.access_token_alg,!0),l(R,e.client.id_token_alg,!0),l(d,e.client.access_token_lifetime.toString(),!0),l(f,e.client.auth_code_lifetime.toString(),!0),l(P,e.scopesAll.map(X=>({name:X,selected:e.client.scopes.includes(X)||!1})),!0),l(q,e.scopesAll.map(X=>({name:X,selected:e.client.default_scopes.includes(X)||!1})),!0),I.plain=e.client.challenges?.includes("plain")||!1,I.s256=e.client.challenges?.includes("S256")||!1,l(g,{base_uri:e.client.scim?.base_uri||"",bearer_token:e.client.scim?.bearer_token||"",sync_groups:e.client.scim?.sync_groups===!0||!0,group_sync_prefix:e.client.scim?.group_sync_prefix||""},!0),Q())});async function Q(){let X=await tt(`/auth/v1/clients/${e.client.id}`);if(X.body){let U=X.body;l(L,!!U.scim),U.scim&&l(g,{base_uri:U.scim.base_uri,bearer_token:U.scim.bearer_token,sync_groups:U.scim.sync_groups,group_sync_prefix:U.scim.group_sync_prefix||""},!0)}else console.error(X.error)}async function ie(X,U){l(v,"");let K={id:t(_),name:t(x)||void 0,enabled:t(C),confidential:t(y),allowed_origins:t(N).length>0?t(N):void 0,redirect_uris:t(S),post_logout_redirect_uris:t(E).length>0?t(E):void 0,flows_enabled:[],access_token_alg:t(M),id_token_alg:t(R),access_token_lifetime:Number.parseInt(t(d)),auth_code_lifetime:Number.parseInt(t(f)),scopes:t(P).filter($=>$.selected).map($=>$.name),default_scopes:t(q).filter($=>$.selected).map($=>$.name),challenges:void 0,force_mfa:t(m),client_uri:t(b)||void 0,contacts:t(T).length>0?t(T):void 0,backchannel_logout_uri:t(F)||void 0};A.authorizationCode&&K.flows_enabled.push("authorization_code"),A.clientCredentials&&K.flows_enabled.push("client_credentials"),A.password&&K.flows_enabled.push("password"),A.refreshToken&&K.flows_enabled.push("refresh_token"),A.deviceCode&&K.flows_enabled.push(Xe),I.plain&&(K.challenges=["plain"]),I.s256&&(K.challenges?K.challenges.push("S256"):K.challenges=["S256"]),t(L)&&(K.scim={base_uri:t(g).base_uri,bearer_token:t(g).bearer_token,sync_groups:t(g).sync_groups,group_sync_prefix:t(g).sync_groups&&t(g).group_sync_prefix.length?t(g).group_sync_prefix:void 0});let Y=await it(X.action,K);Y.error?l(v,Y.error.message,!0):(l(k,!0),e.onSave(),setTimeout(()=>{l(k,!1)},2e3))}var ae=ma(),ce=o(ae);const ue=fe(()=>`/auth/v1/clients/${e.client.id}`);nt(ce,{get action(){return t(ue)},onSubmit:ie,children:(X,U)=>{var K=ha(),Y=he(K),$=o(Y,!0);s(Y);var B=a(Y,2);Qe(B,{label:"ID",mono:!0,get copyToClip(){return e.client.id},children:(n,V)=>{H();var w=J();D(()=>p(w,e.client.id)),c(n,w)},$$slots:{default:!0}});var ee=a(B,2),le=o(ee,!0);s(ee);var be=a(ee,2);ve(be,{autocomplete:"off",get label(){return i.clients.name},get placeholder(){return i.clients.name},width:u,pattern:er,get value(){return t(x)},set value(n){l(x,n,!0)}});var Pe=a(be,2),Me=o(Pe,!0);s(Pe);var Ue=a(Pe,2);ve(Ue,{typ:"url",autocomplete:"off",label:"URI",placeholder:"URI",width:u,pattern:pe,get value(){return t(b)},set value(n){l(b,n,!0)}});var ct=a(Ue,2);Ce(ct,{get label(){return i.common.contact},pattern:Wr,get values(){return t(T)},set values(n){l(T,n,!0)}});var ut=a(ct,2);te(ut,"",{},{height:".5rem"});var Be=a(ut,2),ir=o(Be,!0);s(Be);var vt=a(Be,2);ne(vt,{get ariaLabel(){return i.common.enabled},get checked(){return t(C)},set checked(n){l(C,n,!0)},children:(n,V)=>{H();var w=J();D(()=>p(w,i.common.enabled)),c(n,w)},$$slots:{default:!0}});var _t=a(vt,2);ne(_t,{get ariaLabel(){return i.clients.confidential},get checked(){return t(y)},set checked(n){l(y,n,!0)},children:(n,V)=>{H();var w=J();D(()=>p(w,i.clients.confidential)),c(n,w)},$$slots:{default:!0}});var ft=a(_t,2);ne(ft,{get ariaLabel(){return i.clients.forceMfa},get checked(){return t(m)},set checked(n){l(m,n,!0)},children:(n,V)=>{H();var w=J();D(()=>p(w,i.clients.forceMfa)),c(n,w)},$$slots:{default:!0}});var gt=a(ft,4);ne(gt,{ariaLabel:"authorization_code",get checked(){return A.authorizationCode},set checked(n){A.authorizationCode=n},children:(n,V)=>{H();var w=J("authorization_code");c(n,w)},$$slots:{default:!0}});var ht=a(gt,2);ne(ht,{ariaLabel:"urn:ietf:params:oauth:grant-type:device_code",get checked(){return A.deviceCode},set checked(n){A.deviceCode=n},children:(n,V)=>{H();var w=J("device_code");c(n,w)},$$slots:{default:!0}});var mt=a(ht,2);ne(mt,{ariaLabel:"client_credentials",get checked(){return A.clientCredentials},set checked(n){A.clientCredentials=n},children:(n,V)=>{H();var w=J("client_credentials");c(n,w)},$$slots:{default:!0}});var bt=a(mt,2);ne(bt,{ariaLabel:"password",get checked(){return A.password},set checked(n){A.password=n},children:(n,V)=>{H();var w=J("password");c(n,w)},$$slots:{default:!0}});var kt=a(bt,2);ne(kt,{ariaLabel:"refresh_token",get checked(){return A.refreshToken},set checked(n){A.refreshToken=n},children:(n,V)=>{H();var w=J("refresh_token");c(n,w)},$$slots:{default:!0}});var xt=a(kt,2);te(xt,"",{},{height:".5rem"});var De=a(xt,4),nr=o(De,!0);s(De);var Ne=a(De,2),yt=o(Ne),sr=o(yt,!0);s(yt),s(Ne);var wt=a(Ne,2);ne(wt,{ariaLabel:"PKCE plain",get checked(){return I.plain},set checked(n){I.plain=n},children:(n,V)=>{H();var w=J("plain");c(n,w)},$$slots:{default:!0}});var pt=a(wt,2);ne(pt,{ariaLabel:"PKCE S256",get checked(){return I.s256},set checked(n){I.s256=n},children:(n,V)=>{H();var w=J("S256");c(n,w)},$$slots:{default:!0}});var Ct=a(pt,2);{var or=n=>{var V=va(),w=o(V,!0);s(V),D(()=>p(w,i.clients.errConfidentialPKCE)),Ie(3,V,()=>Te,()=>({duration:150})),c(n,V)};Z(Ct,n=>{!t(y)&&!I.plain&&!I.s256&&n(or)})}var Lt=a(Ct,2);te(Lt,"",{},{height:".5rem"});var Oe=a(Lt,4),dr=o(Oe,!0);s(Oe);var Pt=a(Oe,2);Ce(Pt,{typ:"url",label:"Allowed Origins",get errMsg(){return i.validation.origin},pattern:Gr,get values(){return t(N)},set values(n){l(N,n,!0)}});var qe=a(Pt,2),cr=o(qe);_e(cr,()=>i.clients.descUri),s(qe);var St=a(qe,2);Ce(St,{typ:"url",label:"Redirect URIs",get errMsg(){return i.validation.uri},get required(){return A.authorizationCode},pattern:pe,get values(){return t(S)},set values(n){l(S,n,!0)}});var It=a(St,2);Ce(It,{typ:"url",label:"Post Logout Redirect URIs",get errMsg(){return i.validation.uri},pattern:pe,get values(){return t(E)},set values(n){l(E,n,!0)}});var Tt=a(It,2);te(Tt,"",{},{height:".5rem"});var je=a(Tt,4),ur=o(je);_e(ur,()=>i.clients.scopes.desc),s(je);var At=a(je,2);Xt(At,{get items(){return t(P)},set items(n){l(P,n,!0)},children:(n,V)=>{H();var w=J();D(()=>p(w,i.clients.scopes.allowed)),c(n,w)},$$slots:{default:!0}});var Rt=a(At,2);Xt(Rt,{get items(){return t(q)},set items(n){l(q,n,!0)},children:(n,V)=>{H();var w=J();D(()=>p(w,i.clients.scopes.default)),c(n,w)},$$slots:{default:!0}});var Et=a(Rt,2);te(Et,"",{},{height:".75rem"});var Fe=a(Et,4),vr=o(Fe,!0);s(Fe);var Mt=a(Fe,2);ve(Mt,{typ:"number",autocomplete:"off",label:"Token Lifetime",placeholder:"Token Lifetime",width:u,min:"10",max:"86400",errMsg:"10 <= Token Lifetime <= 86400",get value(){return t(d)},set value(n){l(d,n,!0)}});var Ut=a(Mt,2);te(Ut,"",{},{height:".5rem"});var ze=a(Ut,2),_r=o(ze,!0);s(ze);var Ke=a(ze,2),fr=o(Ke,!0);s(Ke);var Bt=a(Ke,2);Qe(Bt,{label:"Access Token Algorithm",children:(n,V)=>{Yt(n,{ariaLabel:"Access Token Algorithm",options:z,borderless:!0,get value(){return t(M)},set value(w){l(M,w,!0)}})},$$slots:{default:!0}});var Dt=a(Bt,2);Qe(Dt,{label:"ID Token Algorithm",children:(n,V)=>{Yt(n,{ariaLabel:"ID Token Algorithm",options:z,borderless:!0,get value(){return t(R)},set value(w){l(R,w,!0)}})},$$slots:{default:!0}});var Nt=a(Dt,2);te(Nt,"",{},{height:".5rem"});var He=a(Nt,2),gr=o(He,!0);s(He);var Ot=a(He,2);ve(Ot,{typ:"number",autocomplete:"off",label:"Auth Code Lifetime",placeholder:"Auth Code Lifetime",width:u,min:"10",max:"300",errMsg:"10 <= Auth Code Lifetime <= 300",get value(){return t(f)},set value(n){l(f,n,!0)}});var Ve=a(Ot,4),hr=o(Ve);_e(hr,()=>i.clients.backchannelLogout.replace("{{ OIDC_BCL }}",'<a href="https://openid.net/specs/openid-connect-backchannel-1_0.html" target="_blank">OpenID Connect Back-Channel Logout</a>')),s(Ve);var qt=a(Ve,2);const mr=fe(()=>e.client.id==="rauthy");ve(qt,{typ:"url",autocomplete:"off",label:"Backchannel Logout URI",placeholder:"Backchannel Logout URI",width:u,pattern:pe,get disabled(){return t(mr)},get value(){return t(F)},set value(n){l(F,n,!0)}});var Ae=a(qt,4);te(Ae,"",{},{"margin-bottom":".5rem"});var br=o(Ae);_e(br,()=>i.clients.scim.desc.replace("{{ SCIM_LINK }}",'<a href="https://www.rfc-editor.org/rfc/rfc7644" target="_blank">SCIM v2</a>')),s(Ae);var jt=a(Ae,2);const kr=fe(()=>e.client.id==="rauthy");ne(jt,{get ariaLabel(){return i.clients.scim.enable},get disabled(){return t(kr)},get checked(){return t(L)},set checked(n){l(L,n,!0)},children:(n,V)=>{H();var w=J();D(()=>p(w,i.clients.scim.enable)),c(n,w)},$$slots:{default:!0}});var Ft=a(jt,2);{var xr=n=>{var V=fa(),w=o(V);te(w,"",{},{"margin-bottom":".5rem"});var Lr=o(w,!0);s(w);var We=a(w,2),Ge=o(We),Pr=o(Ge);_e(Pr,()=>i.clients.scim.reqLi1),s(Ge);var Je=a(Ge,2),Sr=o(Je);_e(Sr,()=>i.clients.scim.reqLi2),s(Je);var Ht=a(Je,2),Ir=o(Ht);_e(Ir,()=>i.clients.scim.reqLi3),s(Ht),s(We);var Ee=a(We,2);te(Ee,"",{},{"margin-top":"1rem"});var Tr=o(Ee);_e(Tr,()=>i.clients.scim.baseUri),s(Ee);var Vt=a(Ee,2);ve(Vt,{typ:"url",autocomplete:"off",label:"SCIM Base URI",placeholder:"SCIM Base URI",width:u,pattern:pe,get required(){return t(L)},get value(){return t(g).base_uri},set value(ge){t(g).base_uri=ge}});var Wt=a(Vt,2);lr(Wt,{autocomplete:"off",label:"Bearer Token",placeholder:"Bearer Token",width:u,pattern:pe,get required(){return t(L)},get value(){return t(g).bearer_token},set value(ge){t(g).bearer_token=ge}});var Gt=a(Wt,2);te(Gt,"",{},{height:".5rem"});var Jt=a(Gt,2);const Ar=fe(()=>e.client.id==="rauthy");ne(Jt,{get ariaLabel(){return i.clients.scim.groupSync},get disabled(){return t(Ar)},get checked(){return t(g).sync_groups},set checked(ge){t(g).sync_groups=ge},children:(ge,Se)=>{H();var we=J();D(()=>p(we,i.clients.scim.groupSync)),c(ge,we)},$$slots:{default:!0}});var Rr=a(Jt,2);{var Er=ge=>{var Se=_a(),we=o(Se),Mr=o(we);_e(Mr,()=>i.clients.scim.groupSyncPrefixDesc),s(we);var Ur=a(we,2);ve(Ur,{autocomplete:"off",get label(){return i.clients.scim.groupSyncPrefix},get placeholder(){return i.clients.scim.groupSyncPrefix},width:u,pattern:Jr,get value(){return t(g).group_sync_prefix},set value(Br){t(g).group_sync_prefix=Br}}),s(Se),Ie(3,Se,()=>Te,()=>({duration:150})),c(ge,Se)};Z(Rr,ge=>{t(g).sync_groups&&ge(Er)})}s(V),D(()=>p(Lr,i.clients.scim.reqDesc)),Ie(3,V,()=>Te,()=>({duration:150})),c(n,V)};Z(Ft,n=>{t(L)&&n(xr)})}var Re=a(Ft,2);te(Re,"",{},{"margin-top":"1rem"});var zt=o(Re);se(zt,{type:"submit",children:(n,V)=>{H();var w=J();D(()=>p(w,r.common.save)),c(n,w)},$$slots:{default:!0}});var yr=a(zt,2);{var wr=n=>{dt(n,{})};Z(yr,n=>{t(k)&&n(wr)})}s(Re);var Kt=a(Re,2);{var pr=n=>{var V=ga(),w=o(V,!0);s(V),D(()=>p(w,t(v))),c(n,V)};Z(Kt,n=>{t(v)&&n(pr)})}var Cr=a(Kt,2);te(Cr,"",{},{height:"1rem"}),D(()=>{p($,i.common.information),p(le,i.clients.descName),p(Me,i.clients.descClientUri),p(ir,i.clients.config),p(nr,i.clients.descPKCE),p(sr,i.clients.descPKCEEnforce),p(dr,i.clients.descOrigin),p(vr,i.clients.tokenLifetime.p1),p(_r,i.clients.tokenLifetime.p2),p(fr,i.clients.tokenLifetime.p3),p(gr,i.clients.descAuthCode)}),c(X,K)},$$slots:{default:!0}}),s(ae),c(O,ae),de()}var ka=j("<div><!></div>"),xa=j('<div><p> </p> <p><b> </b></p> <!> <!> <div class="flex gap-05"><!> <!></div></div>'),ya=j("<!> <!>",1),wa=j('<div class="container svelte-19xcrje"><div class="err"> </div> <!></div>');function pa(O,e){oe(e,!0);let r=ke(),i=h(""),u=h(!1),v=h(!1),k=h(void 0),_=h(!1),x=h(!1),C=h("1");me(()=>{e.client.id&&(l(_,!1),l(x,!1),l(C,"1"),l(i,""),l(k,""),e.client.confidential?y():l(i,r.clients.confidentialNoSecret,!0))});async function y(){let L=await lt(`/auth/v1/clients/${e.client.id}/secret`);L.body?L.body.secret&&l(k,L.body.secret,!0):l(i,L.error?.message||"Error",!0)}async function b(){let L={cache_current_hours:t(x)?Number.parseInt(t(C)):void 0},g=await it(`/auth/v1/clients/${e.client.id}/secret`,L);g.body?g.body.secret&&(l(k,g.body.secret,!0),l(v,!0),setTimeout(()=>{l(v,!1)},3e3)):l(i,g.error?.message||"Error",!0)}var T=wa(),N=o(T),S=o(N,!0);s(N);var E=a(N,2);{var F=L=>{var g=ya(),A=he(g);lr(A,{autocomplete:"off",label:"Client Secret",placeholder:"Client Secret",disabled:!0,showCopy:!0,get value(){return t(k)},set value(d){l(k,d,!0)}});var z=a(A,2);{var M=d=>{var f=xa(),P=o(f),q=o(P,!0);s(P);var I=a(P,2),m=o(I),Q=o(m,!0);s(m),s(I);var ie=a(I,2);ne(ie,{ariaLabel:"Client Secret Cache",get checked(){return t(x)},set checked(Y){l(x,Y,!0)},children:(Y,$)=>{H();var B=J();D(()=>p(B,r.clients.secret.doCache)),c(Y,B)},$$slots:{default:!0}});var ae=a(ie,2);{var ce=Y=>{var $=ka(),B=o($);ve(B,{typ:"number",get label(){return r.clients.secret.cacheDuration},get placeholder(){return r.clients.secret.cacheDuration},min:"1",max:"24",width:"13rem",get value(){return t(C)},set value(ee){l(C,ee,!0)},get isError(){return t(u)},set isError(ee){l(u,ee,!0)}}),s($),Ie(3,$,()=>Te,()=>({duration:150})),c(Y,$)};Z(ae,Y=>{t(x)&&Y(ce)})}var ue=a(ae,2);te(ue,"",{},{"margin-top":"1rem"});var X=o(ue);se(X,{onclick:b,get isDisabled(){return t(u)},children:(Y,$)=>{H();var B=J();D(()=>p(B,r.clients.secret.generate)),c(Y,B)},$$slots:{default:!0}});var U=a(X,2);{var K=Y=>{dt(Y,{})};Z(U,Y=>{t(v)&&Y(K)})}s(ue),s(f),D(()=>{p(q,r.clients.secret.rotateDesc1),p(Q,r.clients.secret.rotateDesc2)}),Ie(3,f,()=>Te,()=>({duration:150})),c(d,f)},R=d=>{se(d,{onclick:()=>l(_,!0),children:(f,P)=>{H();var q=J();D(()=>p(q,r.clients.secret.generate)),c(f,q)},$$slots:{default:!0}})};Z(z,d=>{t(_)?d(M):d(R,!1)})}c(L,g)};Z(E,L=>{t(k)&&L(F)})}s(T),D(()=>p(S,t(i))),c(O,T),de()}var Ca=j('<div class="err"> </div>'),La=j("<p> </p> <!> <!>",1);function Pa(O,e){oe(e,!0);let r=Le(),i=ke(),u=h("");async function v(){l(u,"");let T=await rt(`/auth/v1/clients/${e.client.id}`);T.error?l(u,T.error.message,!0):e.onSave()}var k=La(),_=he(k),x=o(_,!0);s(_);var C=a(_,2);se(C,{level:-1,onclick:v,children:(T,N)=>{H();var S=J();D(()=>p(S,r.common.delete)),c(T,S)},$$slots:{default:!0}});var y=a(C,2);{var b=T=>{var N=Ca(),S=o(N,!0);s(N),D(()=>p(S,t(u))),c(T,N)};Z(y,T=>{t(u)&&T(b)})}D(()=>p(x,i.clients.delete1)),c(O,k),de()}var Sa=j('<div><div class="flex"><input type="range" class="svelte-12j8dit"> <div class="value font-mono svelte-12j8dit"> </div></div> <div class="label svelte-12j8dit"><label class="font-label noselect svelte-12j8dit"> </label></div></div>');function Ye(O,e){oe(e,!0);let r=re(e,"value",15),i=re(e,"label",3,""),u=re(e,"disabled",3,!1),v=re(e,"step",3,1),k=re(e,"widthRange",3,"15rem");const _=ye();let x=fe(()=>{if(e.hue!==void 0&&e.sat!==void 0&&e.lum!==void 0){if(e.bgMode==="hue")return`linear-gradient(
                    to right,
                    hsl(0 ${e.sat} ${e.lum}) 0%,
                    hsl(60 ${e.sat} ${e.lum}) 17%,
                    hsl(120 ${e.sat} ${e.lum}) 33%,
                    hsl(180 ${e.sat} ${e.lum}) 50%,
                    hsl(240 ${e.sat} ${e.lum}) 67%,
                    hsl(300 ${e.sat} ${e.lum}) 83%,
                    hsl(3600 ${e.sat} ${e.lum}) 100%
                )`;if(e.bgMode==="sat")return`linear-gradient(to right, hsl(${e.hue} 0 ${e.lum}), hsl(${e.hue} 100 ${e.lum}))`;if(e.bgMode==="lum")return`linear-gradient(to right, hsl(${e.hue} ${e.sat} 0), hsl(${e.hue} ${e.sat} 100))`}return"hsl(var(--text) / .5)"});var C=Sa(),y=o(C),b=o(y);st(b),G(b,"id",_);let T;var N=a(b,2),S=o(N,!0);s(N),s(y);var E=a(y,2),F=o(E);G(F,"for",_);var L=o(F,!0);s(F),s(E),s(C),D(()=>{G(b,"name",e.name),G(b,"title",i()),G(b,"aria-label",i()),b.disabled=u(),G(b,"aria-disabled",u()),G(b,"min",e.min),G(b,"max",e.max),G(b,"step",v()),T=te(b,"",T,{width:k(),"--bg-slider":t(x)}),p(S,r()),p(L,i())}),ot(b,r),c(O,C),de()}var Ia=j('<div class="outer svelte-1evkwuy"><div class="container svelte-1evkwuy"><div><label class="font-label svelte-1evkwuy"> </label> <div class="values svelte-1evkwuy"><!> <!> <!></div></div> <div class="color svelte-1evkwuy"></div></div></div>');function xe(O,e){oe(e,!0);let r=re(e,"h",15),i=re(e,"s",15),u=re(e,"l",15);const v=ye(),k="15rem";let _=fe(()=>`hsl(${r()} ${i()} ${u()})`);var x=Ia(),C=o(x);let y;var b=o(C),T=o(b);G(T,"for",v);var N=o(T,!0);s(T);var S=a(T,2);G(S,"id",v);var E=o(S);Ye(E,{label:"Hue",min:0,max:359,widthRange:k,bgMode:"hue",get hue(){return r()},get sat(){return i()},get lum(){return u()},get value(){return r()},set value(z){r(z)}});var F=a(E,2);Ye(F,{label:"Sat",min:0,max:100,widthRange:k,bgMode:"sat",get hue(){return r()},get sat(){return i()},get lum(){return u()},get value(){return i()},set value(z){i(z)}});var L=a(F,2);Ye(L,{label:"Lum",min:0,max:100,widthRange:k,bgMode:"lum",get hue(){return r()},get sat(){return i()},get lum(){return u()},get value(){return u()},set value(z){u(z)}}),s(S),s(b);var g=a(b,2);let A;s(C),s(x),D(()=>{y=te(C,"",y,{"border-color":t(_)}),p(N,e.label),A=te(g,"",A,{background:t(_)})}),c(O,x),de()}var Ta=(O,e)=>t(e)?.click(),Aa=j('<div class="container svelte-2nx18n"><!> <div role="none" class="mask svelte-2nx18n"><div class="colorWrapper svelte-2nx18n"><div class="color svelte-2nx18n"></div></div> <input type="color" class="svelte-2nx18n"></div></div>');function Ze(O,e){oe(e,!0);let r=re(e,"value",15),i=ke(),u=h(void 0);var v=Aa();let k;var _=o(v);ve(_,{get label(){return e.label},get placeholder(){return e.label},get errMsg(){return i.validation.css},width:"17.5rem",required:!0,pattern:tr,get value(){return r()},set value(y){r(y)}});var x=a(_,2);x.__click=[Ta,u];var C=a(o(x),2);st(C),rr(C,y=>l(u,y),()=>t(u)),s(x),s(v),D(()=>k=te(v,"",k,{"--color":r()})),ot(C,r),c(O,v),de()}at(["click"]);var Ra=j('<div><p> </p> <div class="hsl svelte-10udpph"><div><!> <!> <!> <!></div> <div><!> <!> <!></div></div> <div><p><!></p> <!> <!> <!></div></div>');function Zt(O,e){oe(e,!0);let r=re(e,"values",15),i=ke();var u=Ra(),v=o(u),k=o(v,!0);s(v);var _=a(v,2),x=o(_),C=o(x);xe(C,{label:"--text",get h(){return r().text[0]},set h(d){r(r().text[0]=d,!0)},get s(){return r().text[1]},set s(d){r(r().text[1]=d,!0)},get l(){return r().text[2]},set l(d){r(r().text[2]=d,!0)}});var y=a(C,2);xe(y,{label:"--text-high",get h(){return r().text_high[0]},set h(d){r(r().text_high[0]=d,!0)},get s(){return r().text_high[1]},set s(d){r(r().text_high[1]=d,!0)},get l(){return r().text_high[2]},set l(d){r(r().text_high[2]=d,!0)}});var b=a(y,2);xe(b,{label:"--bg",get h(){return r().bg[0]},set h(d){r(r().bg[0]=d,!0)},get s(){return r().bg[1]},set s(d){r(r().bg[1]=d,!0)},get l(){return r().bg[2]},set l(d){r(r().bg[2]=d,!0)}});var T=a(b,2);xe(T,{label:"--bg-high",get h(){return r().bg_high[0]},set h(d){r(r().bg_high[0]=d,!0)},get s(){return r().bg_high[1]},set s(d){r(r().bg_high[1]=d,!0)},get l(){return r().bg_high[2]},set l(d){r(r().bg_high[2]=d,!0)}}),s(x);var N=a(x,2),S=o(N);xe(S,{label:"--action",get h(){return r().action[0]},set h(d){r(r().action[0]=d,!0)},get s(){return r().action[1]},set s(d){r(r().action[1]=d,!0)},get l(){return r().action[2]},set l(d){r(r().action[2]=d,!0)}});var E=a(S,2);xe(E,{label:"--accent",get h(){return r().accent[0]},set h(d){r(r().accent[0]=d,!0)},get s(){return r().accent[1]},set s(d){r(r().accent[1]=d,!0)},get l(){return r().accent[2]},set l(d){r(r().accent[2]=d,!0)}});var F=a(E,2);xe(F,{label:"--error",get h(){return r().error[0]},set h(d){r(r().error[0]=d,!0)},get s(){return r().error[1]},set s(d){r(r().error[1]=d,!0)},get l(){return r().error[2]},set l(d){r(r().error[2]=d,!0)}}),s(N),s(_);var L=a(_,2),g=o(L),A=o(g);_e(A,()=>i.clients.branding.descFullCss),s(g);var z=a(g,2);Ze(z,{label:"--btn-text",get value(){return r().btn_text},set value(d){r(r().btn_text=d,!0)}});var M=a(z,2);Ze(M,{label:"--theme-sun",get value(){return r().theme_sun},set value(d){r(r().theme_sun=d,!0)}});var R=a(M,2);Ze(R,{label:"--theme-moon",get value(){return r().theme_moon},set value(d){r(r().theme_moon=d,!0)}}),s(L),s(u),D(()=>p(k,i.clients.branding.descHsl)),c(O,u),de()}var Ea=j('<img alt="Client Logo" width="100%" height="100%">'),Ma=O=>O.preventDefault(),Ua=j('<div aria-label="Preview: All components inside are only for theme and colors preview and have no effect or interaction"><div class="inner svelte-fkmn75"><div class="container svelte-fkmn75"><div class="logo svelte-fkmn75"><!></div> <h3 class="svelte-fkmn75">Header</h3> <p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam</p> <p><span class="svelte-fkmn75">--accent-color</span></p> <!> <div class="btn svelte-fkmn75"><div class="svelte-fkmn75"><!> <br> <!> <br> <!> <br></div> <div class="svelte-fkmn75"><!> <br> <!> <br> <!></div></div> <a>Link</a> <br> <!></div></div></div>');function $t(O,e){oe(e,!0);let r=h(!1),i=h(!1);me(()=>{e.logoUrl&&l(i,!1)}),me(()=>{t(r)&&setTimeout(()=>{l(r,!1)},2e3)});var u=Ua();let v;var k=o(u),_=o(k),x=o(_),C=o(x);{var y=f=>{Zr(f,{width:"100%",get show(){return e.typ}})},b=f=>{var P=Ea();D(()=>G(P,"src",e.logoUrl)),$e("error",P,()=>l(i,!0)),Or(P),c(f,P)};Z(C,f=>{t(i)?f(y):f(b,!1)})}s(x);var T=a(x,8);ve(T,{label:"Preview",placeholder:"Preview",width:"12.5rem"});var N=a(T,2),S=o(N),E=o(S);se(E,{level:1,get isLoading(){return t(r)},onclick:()=>l(r,!0),children:(f,P)=>{H();var q=J("Button");c(f,q)},$$slots:{default:!0}});var F=a(E,4);se(F,{level:2,get isLoading(){return t(r)},onclick:()=>l(r,!0),children:(f,P)=>{H();var q=J("Button");c(f,q)},$$slots:{default:!0}});var L=a(F,4);se(L,{level:3,get isLoading(){return t(r)},onclick:()=>l(r,!0),children:(f,P)=>{H();var q=J("Button");c(f,q)},$$slots:{default:!0}}),H(2),s(S);var g=a(S,2),A=o(g);se(A,{level:-1,get isLoading(){return t(r)},onclick:()=>l(r,!0),children:(f,P)=>{H();var q=J("Button");c(f,q)},$$slots:{default:!0}});var z=a(A,4);se(z,{level:-2,get isLoading(){return t(r)},onclick:()=>l(r,!0),children:(f,P)=>{H();var q=J("Button");c(f,q)},$$slots:{default:!0}});var M=a(z,4);se(M,{level:-3,get isLoading(){return t(r)},onclick:()=>l(r,!0),children:(f,P)=>{H();var q=J("Button");c(f,q)},$$slots:{default:!0}}),s(g),s(N);var R=a(N,2);G(R,"href",window.location.href),R.__click=[Ma];var d=a(R,4);Yr(d,{}),s(_),s(k),s(u),D((f,P,q,I,m,Q,ie)=>v=te(u,"",v,{"--border-radius":e.borderRadius,"--text":f,"--text-high":P,"--bg":q,"--bg-high":I,"--action":m,"--accent":Q,"--error":ie,"--btn-text":e.theme.btn_text,"--theme-sun":e.theme.theme_sun,"--theme-moon":e.theme.theme_moon}),[()=>e.theme.text.join(" "),()=>e.theme.text_high.join(" "),()=>e.theme.bg.join(" "),()=>e.theme.bg_high.join(" "),()=>e.theme.action.join(" "),()=>e.theme.accent.join(" "),()=>e.theme.error.join(" ")]),c(O,u),de()}at(["click"]);var Ba=j('<div><h2>Preview</h2> <div class="tabs svelte-1klemk8"><!></div> <div class="preview svelte-1klemk8"><!></div></div>');function Da(O,e){oe(e,!0);let r=["Light Theme","Dark Theme"],i=h(W(r[0]));var u=Ba(),v=a(o(u),2),k=o(v);ar(k,{tabs:r,center:!0,get selected(){return t(i)},set selected(b){l(i,b,!0)}}),s(v);var _=a(v,2),x=o(_);{var C=b=>{$t(b,{get logoUrl(){return e.logoUrl},get borderRadius(){return e.theme.border_radius},get theme(){return e.theme.light},typ:"light"})},y=b=>{$t(b,{get logoUrl(){return e.logoUrl},get borderRadius(){return e.theme.border_radius},get theme(){return e.theme.dark},typ:"dark"})};Z(x,b=>{t(i)===r[0]?b(C):b(y,!1)})}s(_),s(u),c(O,u),de()}var Na=j('<div class="err"> </div>'),Oa=j('<div class="values svelte-1pkqupw"><p><!></p> <!> <h1>Light Theme</h1> <!> <br> <h1>Dark Theme</h1> <!></div> <div class="preview"><!> <hr> <p>Logo Upload</p> <!> <div class="buttons svelte-1pkqupw"><!> <!> <!></div> <!></div>',1),qa=j('<div class="container svelte-1pkqupw"><!></div>');function ja(O,e){oe(e,!0);const r="13rem";let i=Le(),u=ke(),v=h(!1),k=h(""),_=h(void 0),x=h(W(ye())),C=fe(()=>`/auth/v1/clients/${e.client.id}/logo?${t(x)}`),y=fe(()=>`/auth/v1/theme/${e.client.id}`);me(()=>{b()});async function b(){let E=await lt(t(y));E.body?l(_,E.body,!0):l(k,E.error?.message||"Error",!0)}async function T(E,F){if(!t(_)){console.error("theme is undefined");return}let L=t(_);L.client_id=e.client.id;let g=await it(t(y),L);g.error?l(k,g.error.message,!0):(l(v,!0),setTimeout(()=>{l(v,!1)},2e3))}async function N(){let E=await rt(t(y));E.error?l(k,E.error.message,!0):(await rt(`/auth/v1/clients/${e.client.id}/logo`),await b(),l(x,ye(),!0),l(v,!0),setTimeout(()=>{l(v,!1)},2e3))}async function S(){l(x,ye(),!0)}nt(O,{get action(){return t(y)},onSubmit:T,children:(E,F)=>{var L=qa(),g=o(L);{var A=z=>{var M=Oa(),R=he(M),d=o(R),f=o(d);_e(f,()=>u.clients.branding.descVariables),s(d);var P=a(d,2);ve(P,{label:"--border-radius",placeholder:"--border-radius",get errMsg(){return u.validation.css},width:r,required:!0,pattern:tr,get value(){return t(_).border_radius},set value(B){t(_).border_radius=B}});var q=a(P,4);Zt(q,{get values(){return t(_).light},set values(B){t(_).light=B}});var I=a(q,6);Zt(I,{get values(){return t(_).dark},set values(B){t(_).dark=B}}),s(R);var m=a(R,2),Q=o(m);Xr(Q,()=>t(x),B=>{Da(B,{get logoUrl(){return t(C)},get theme(){return t(_)}})});var ie=a(Q,6);const ae=fe(()=>`/auth/v1/clients/${e.client.id}/logo`);$r(ie,{method:"PUT",get url(){return t(ae)},fileName:"logo",onSuccess:S});var ce=a(ie,2),ue=o(ce);se(ue,{type:"submit",children:(B,ee)=>{H();var le=J();D(()=>p(le,i.common.save)),c(B,le)},$$slots:{default:!0}});var X=a(ue,2);se(X,{level:-2,onclick:N,children:(B,ee)=>{H();var le=J();D(()=>p(le,u.common.reset)),c(B,le)},$$slots:{default:!0}});var U=a(X,2);{var K=B=>{dt(B,{})};Z(U,B=>{t(v)&&B(K)})}s(ce);var Y=a(ce,2);{var $=B=>{var ee=Na(),le=o(ee,!0);s(ee),D(()=>p(le,t(k))),c(B,ee)};Z(Y,B=>{t(k)&&B($)})}s(m),c(z,M)};Z(g,z=>{t(_)&&z(A)})}s(L),c(E,L)},$$slots:{default:!0}}),de()}var Fa=j('<div class="flex"><!></div> <div class="details"><!></div>',1);function za(O,e){oe(e,!0);let r=Le(),i=ke();const u=[i.nav.config,"Secret","Branding",r.common.delete];let v=h(W(u[0])),k=h(void 0);me(()=>{e.client.id&&requestAnimationFrame(()=>{t(k)?.()})});var _=Fa(),x=he(_),C=o(x);ar(C,{tabs:u,get selected(){return t(v)},set selected(S){l(v,S,!0)},get focusFirst(){return t(k)},set focusFirst(S){l(k,S,!0)}}),s(x);var y=a(x,2),b=o(y);{var T=S=>{ba(S,{get client(){return e.client},get clients(){return e.clients},get scopesAll(){return e.scopesAll},get onSave(){return e.onSave}})},N=(S,E)=>{{var F=g=>{pa(g,{get client(){return e.client}})},L=(g,A)=>{{var z=R=>{ja(R,{get client(){return e.client}})},M=(R,d)=>{{var f=P=>{Pa(P,{get client(){return e.client},get onSave(){return e.onSave}})};Z(R,P=>{t(v)===r.common.delete&&P(f)},d)}};Z(g,R=>{t(v)==="Branding"?R(z):R(M,!1)},A)}};Z(S,g=>{t(v)==="Secret"?g(F):g(L,!1)},E)}};Z(b,S=>{t(v)===i.nav.config?S(T):S(N,!1)})}s(y),c(O,_),de()}var Ka=j('<div class="tile svelte-1axgnut"> <div class="muted svelte-1axgnut"> </div></div>'),Ha=j('<div class="clientsList svelte-1axgnut"></div>'),Va=j("<!> <!>",1),Wa=j('<div class="err"> </div>'),Ga=j('<!> <div id="groups"><!></div>',1),Ja=j("<!> <!>",1);function Qa(O,e){oe(e,!0);let r=h(void 0),i=h(""),u=h(W([])),v=h(W([])),k=h(void 0),_=Hr("cid"),x=h(W([]));const C=["ID"];let y=h(W(C[0])),b=h("");const T=["ID"];Nr(()=>{N(),S()}),me(()=>{l(k,t(u).find(M=>M.id===_.get()),!0)}),me(()=>{let M=t(b).toLowerCase();M?t(y)===C[0]&&l(v,t(u).filter(R=>R.id.toLowerCase().includes(M)),!0):l(v,t(u),!0)});async function N(){let M=await tt("/auth/v1/clients");M.body?l(u,M.body,!0):l(i,M.error?.message||"Error",!0)}async function S(){let M=await tt("/auth/v1/scopes");M.body?l(x,M.body.map(R=>R.name),!0):l(i,M.error?.message||"Error",!0)}function E(M,R){let d=R==="up";M===T[0]&&t(u).sort((f,P)=>d?f.id.localeCompare(P.id):P.id.localeCompare(f.id))}function F(){N()}async function L(M){t(r)?.(),await N(),_.set(M)}var g=Ja(),A=he(g);zr(A,{paddingTop:"2.1rem",buttonTilesAriaControls:"groups",width:"min(20rem, 100dvw)",thresholdNavSub:700,buttonTiles:R=>{var d=Ha();et(d,21,()=>t(v),f=>f.id,(f,P,q,I)=>{const m=fe(()=>_.get()===t(P).id);Fr(f,{onclick:()=>_.set(t(P).id),get selected(){return t(m)},children:(Q,ie)=>{var ae=Ka(),ce=o(ae),ue=a(ce),X=o(ue,!0);s(ue),s(ae),D(()=>{p(ce,`${t(P).id??""} `),p(X,t(P).name)}),c(Q,ae)}})}),s(d),c(R,d)},children:(R,d)=>{var f=Va(),P=he(f);const q=fe(()=>t(u).length===0?1:2);qr(P,{get level(){return t(q)},alignRight:!0,get closeModal(){return t(r)},set closeModal(m){l(r,m,!0)},children:(m,Q)=>{ua(m,{onSave:L,get clients(){return t(u)}})},$$slots:{default:!0}});var I=a(P,2);Kr(I,{searchOptions:C,orderOptions:T,onChangeOrder:E,searchWidth:"min(19.5rem, 100dvw - .5rem)",get searchOption(){return t(y)},set searchOption(m){l(y,m,!0)},get value(){return t(b)},set value(m){l(b,m,!0)}}),c(R,f)},$$slots:{buttonTiles:!0,default:!0}});var z=a(A,2);jr(z,{children:(M,R)=>{var d=Ga(),f=he(d);{var P=Q=>{var ie=Wa(),ae=o(ie,!0);s(ie),D(()=>p(ae,t(i))),c(Q,ie)};Z(f,Q=>{t(i)&&Q(P)})}var q=a(f,2),I=o(q);{var m=Q=>{za(Q,{get client(){return t(k)},get clients(){return t(u)},get scopesAll(){return t(x)},onSave:F})};Z(I,Q=>{t(k)&&Q(m)})}s(q),c(M,d)}}),c(O,g),de()}function El(O){Qa(O,{})}export{El as component};
